@using Microsoft.AspNetCore.Components.Authorization
<AuthorizeView>
    <Authorized Context="auth">
        <MudCard Elevation="0" Square="true" Class="@Class" Style="@Style">
            <MudCardHeader>
                <CardHeaderAvatar>
                    <MudAvatar>
                        @{
                            var avatar = auth.User?.FindFirst("picture")?.Value;
                        }
                        @if (!string.IsNullOrWhiteSpace(avatar))
                        {
                            <MudImage Src="@avatar"></MudImage>
                        }
                        else
                        {
                            <MudIcon Icon="@Icons.Material.Outlined.Person" />
                        }
                    </MudAvatar>
                </CardHeaderAvatar>
                <CardHeaderContent>
                    <MudText Typo="Typo.body2">@auth.User.Identity?.Name</MudText>
                    <MudText Typo="Typo.caption">@auth.User.FindFirst("Sign")?.Value</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            <MudDivider Class="mb-4"/>
        </MudCard>
    </Authorized>
</AuthorizeView>

@code {
    [Parameter] public string Class { get; set; }
    [Parameter] public string Style { get; set; }
}