@inherits LayoutComponentBase

<MudThemeProvider @ref="@_mudThemeProvider" IsDarkMode="@_isDarkMode"/>
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudContainer MaxWidth="MaxWidth.False" Class="d-flex justify-center align-center" Style="min-height: 100dvh;">
    <MudPaper Elevation="8" Class="pa-8" Style="max-width: 720px; width: 100%;">
        @Body
    </MudPaper>
    
</MudContainer>

@code
{
    private bool _isDarkMode;
    private MudThemeProvider _mudThemeProvider;
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            _isDarkMode = await _mudThemeProvider.GetSystemPreference();
            StateHasChanged();
        }
        await base.OnAfterRenderAsync(firstRender);
    }
}

